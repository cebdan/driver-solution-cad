# Инструкция для запуска на macOS

## Быстрый старт

### 1. Получить последние изменения
```bash
git pull
```

### 2. Установить зависимости
```bash
# Установить Homebrew (если ещё не установлен)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Установить необходимые инструменты
brew install cmake ninja
brew install glfw          # Для UI окон
brew install googletest    # Для тестов (опционально)
```

### 3. Собрать проект
```bash
# Создать директорию для сборки
mkdir build && cd build

# Настроить CMake (Ninja для быстрой сборки)
cmake -G Ninja -DCMAKE_BUILD_TYPE=Release ..

# Собрать проект
ninja
```

### 4. Запустить приложение
```bash
./bin/driver-solution-cad
```

## Что должно открыться

После запуска откроются **4 независимых окна**:

1. **Top Bar** (горизонтальное окно сверху)
   - Строка 1: стандартное меню (File, Edit, ...)
   - Строка 2: контекстные инструменты (связана с LeftTools)
   - Строка 3: круглые кнопки слоёв с номерами

2. **Left Tools** (вертикальное окно слева)
   - Панель инструментов: Select, Point, Line, Circle, Extrude, Revolve, Boolean

3. **Main View** (большое окно в центре)
   - 3D сцена с камерой
   - Навигатор-куб в правом верхнем углу

4. **Right Panel** (вертикальное окно справа)
   - Вкладки: Tree, Info, Properties

## Управление камерой в Main View

- **ЛКМ + движение мыши**: вращение камеры (orbit)
- **Колесо мыши**: приближение/отдаление (zoom)
- **Средняя кнопка + движение**: панорамирование (pan)
- **ESC**: закрыть окно

## Взаимодействие между окнами

- **Клик по инструменту в LeftTools** → подсвечивает инструмент и показывает подгруппу в строке 2 TopBar
- **Клик по круглой кнопке слоя в TopBar строка 3** → активирует слой (связано с MainView)
- **Клик по вкладке в RightPanel** → переключает вкладку

## Отладка

Если что-то не работает:

1. **GLFW не найден:**
   ```bash
   brew install glfw
   # Проверить путь:
   brew list glfw
   ```

2. **Ошибка компиляции:**
   ```bash
   # Очистить и пересобрать
   cd build
   rm -rf *
   cmake -G Ninja -DCMAKE_BUILD_TYPE=Release ..
   ninja
   ```

3. **Окна не открываются:**
   - Проверить, что все зависимости установлены
   - Проверить логи в терминале

## Альтернативная сборка (Xcode)

Если предпочитаешь Xcode:

```bash
mkdir build-xcode && cd build-xcode
cmake -G Xcode ..
open driver-solution-cad.xcodeproj
```

## Структура проекта

- `include/UI/Application.h` - главный класс приложения с 4 окнами
- `src/UI/Application.cpp` - реализация рендеринга и обработки событий
- `include/UI/Window.h` - обёртка над GLFW окном
- `src/UI/Window.cpp` - реализация Window
- `CMakeLists.txt` - конфигурация сборки (автоматически определяет macOS)

## Примечания

- Все окна независимы: можно двигать, сворачивать, закрывать отдельно
- Приложение завершится, когда все окна будут закрыты
- Код полностью кроссплатформенный (macOS, Windows, Linux)

